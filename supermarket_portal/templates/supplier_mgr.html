{% extends "base.html" %}
{% block content %}
<div class="row g-4">
  <!-- Suppliers -->
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-header bg-white"><h5>Suppliers</h5></div>
      <div class="card-body">
        <form method="post" class="input-group mb-3">
          <input name="supplier_name" class="form-control" placeholder="Name">
          <input name="contact" class="form-control" placeholder="Contact">
          <button name="create_supplier" class="btn btn-primary">Add</button>
        </form>
        <table class="table table-striped table-hover">
          <thead class="table-light"><tr><th>ID</th><th>Name</th><th>Contact</th><th>Actions</th></tr></thead>
          <tbody>
            {% for s in suppliers %}
            <tr>
              <td>{{ s.supplier_id }}</td>
              <td>
                <form method="post" class="d-flex">
                  <input type="hidden" name="supplier_id" value="{{ s.supplier_id }}">
                  <input name="supplier_name" class="form-control me-2" value="{{ s.name }}">
              </td>
              <td><input name="contact" class="form-control" value="{{ s.contact }}"></td>
              <td class="text-nowrap">
                  <button name="update_supplier" class="btn btn-sm btn-success me-1">Save</button>
                  <button name="delete_supplier" class="btn btn-sm btn-danger">Del</button>
                </form>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Products -->
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-header bg-white"><h5>Products</h5></div>
      <div class="card-body">
        <form method="post" class="row g-3 mb-3">
          <div class="col-3"><input name="product_name" class="form-control" placeholder="Name"></div>
          <div class="col-3"><input name="category" class="form-control" placeholder="Category"></div>
          <div class="col-2"><input name="price" type="number" step="0.01" class="form-control" placeholder="Price"></div>
          <div class="col-2"><input name="supplier_id" type="number" class="form-control" placeholder="Supp ID"></div>
          <div class="col-2"><button name="create_product" class="btn btn-primary w-100">Add</button></div>
        </form>
        <table class="table table-striped table-hover">
          <thead class="table-light"><tr><th>ID</th><th>Name</th><th>Cat</th><th>Price</th><th>Sup</th><th>Actions</th></tr></thead>
          <tbody>
            {% for p in products %}
            <tr>
              <td>{{ p.product_id }}</td>
              <td>
                <form method="post" class="d-flex">
                  <input type="hidden" name="product_id" value="{{ p.product_id }}">
                  <input name="product_name" class="form-control me-2" value="{{ p.name }}">
              </td>
              <td><input name="category" class="form-control" value="{{ p.category }}"></td>
              <td><input name="price" class="form-control" value="{{ p.price }}"></td>
              <td><input name="supplier_id" class="form-control" value="{{ p.supplier_id }}"></td>
              <td class="text-nowrap">
                  <button name="update_product" class="btn btn-sm btn-success me-1">Save</button>
                  <button name="delete_product" class="btn btn-sm btn-danger">Del</button>
                </form>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}
